<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <title>Карьерный Тест</title>
    <script src="https://telegram.org/js/telegram-web-app.js"></script>
    <style>body { font-family: Arial; } .question { margin: 10px; } button { margin: 5px; }</style>
</head>
<body>
    <h1>Тест на сильные стороны и профессии</h1>
    <progress id="progress" value="0" max="124"></progress>
    <div id="question-container"></div>
    <script>
        Telegram.WebApp.ready();
        Telegram.WebApp.MainButton.text = 'Отправить ответы';
        Telegram.WebApp.MainButton.show();
        Telegram.WebApp.MainButton.onClick(finishTest);

        const questions = {
            big_five: [
                "Я вижу себя как человека, который разговорчивый.",
                "Я вижу себя как человека, который склонен находить недостатки в других.",
                "Я вижу себя как человека, который выполняет работу тщательно.",
                "Я вижу себя как человека, который подавленный, грустный.",
                "Я вижу себя как человека, который оригинальный, придумывает новые идеи.",
                "Я вижу себя как человека, который замкнутый.",
                "Я вижу себя как человека, который полезный и бескорыстный по отношению к другим.",
                "Я вижу себя как человека, который может быть несколько небрежным.",
                "Я вижу себя как человека, который расслабленный, хорошо справляется со стрессом.",
                "Я вижу себя как человека, который любопытный ко многим вещам.",
                "Я вижу себя как человека, который полный энергии.",
                "Я вижу себя как человека, который начинает ссоры с другими.",
                "Я вижу себя как человека, который надежный работник.",
                "Я вижу себя как человека, который может быть напряженным.",
                "Я вижу себя как человека, который изобретательный, глубокий мыслитель.",
                "Я вижу себя как человека, который генерирует много энтузиазма.",
                "Я вижу себя как человека, который имеет прощающую природу.",
                "Я вижу себя как человека, который склонен к беспорядку.",
                "Я вижу себя как человека, который много беспокоится.",
                "Я вижу себя как человека, который имеет активное воображение.",
                "Я вижу себя как человека, который склонен быть тихим.",
                "Я вижу себя как человека, который в целом доверчивый.",
                "Я вижу себя как человека, который склонен лениться.",
                "Я вижу себя как человека, который эмоционально стабильный, не легко расстраивается.",
                "Я вижу себя как человека, который изобретательный.",
                "Я вижу себя как человека, который имеет напористую личность.",
                "Я вижу себя как человека, который может быть холодным и отстраненным.",
                "Я вижу себя как человека, который упорствует, пока задача не завершена.",
                "Я вижу себя как человека, который может быть капризным.",
                "Я вижу себя как человека, который ценит художественные, эстетические переживания.",
                "Я вижу себя как человека, который иногда стеснительный, замкнутый.",
                "Я вижу себя как человека, который внимательный и добрый почти ко всем.",
                "Я вижу себя как человека, который делает вещи эффективно.",
                "Я вижу себя как человека, который остается спокойным в напряженных ситуациях.",
                "Я вижу себя как человека, который предпочитает рутинную работу.",
                "Я вижу себя как человека, который общительный, социальный.",
                "Я вижу себя как человека, который иногда грубый по отношению к другим.",
                "Я вижу себя как человека, который составляет планы и следует им.",
                "Я вижу себя как человека, который легко нервничает.",
                "Я вижу себя как человека, который любит размышлять, играть с идеями.",
                "Я вижу себя как человека, который имеет мало художественных интересов.",
                "Я вижу себя как человека, который любит сотрудничать с другими.",
                "Я вижу себя как человека, который легко отвлекается.",
                "Я вижу себя как человека, который утонченный в искусстве, музыке или литературе."
            ],
            riasec: [
                "Мне нравится работать с автомобилями.",
                "Мне нравится решать головоломки.",
                "Я хорош в самостоятельной работе.",
                "Мне нравится работать в командах.",
                "Я амбициозный человек; я ставлю цели.",
                "Мне нравится организовывать вещи (файлы, столы и т.д.).",
                "Мне нравится строить вещи.",
                "Мне нравится читать об искусстве и музыке.",
                "Мне нравится иметь четкие инструкции.",
                "Мне нравится пытаться влиять или убеждать людей.",
                "Мне нравится проводить эксперименты.",
                "Мне нравится учить или тренировать людей.",
                "Мне нравится помогать людям решать проблемы.",
                "Мне нравится ухаживать за животными.",
                "Я не против работать 8 часов в офисе.",
                "Мне нравится продавать вещи.",
                "Мне нравится творческое письмо.",
                "Мне нравится наука.",
                "Я быстро беру на себя новые обязанности.",
                "Меня интересует лечение людей.",
                "Мне нравится разбираться, как вещи работают.",
                "Мне нравится собирать вещи.",
                "Я творческий человек.",
                "Я уделяю внимание деталям.",
                "Мне нравится заниматься файлингом или печатью.",
                "Мне нравится анализировать вещи (проблемы/ситуации).",
                "Мне нравится играть на инструментах или петь.",
                "Мне нравится узнавать о других культурах.",
                "Я хотел бы начать свой бизнес.",
                "Мне нравится играть в пьесах.",
                "Я практичный человек.",
                "Мне нравится работать с числами или диаграммами.",
                "Мне нравится участвовать в обсуждениях проблем.",
                "Я хорош в ведении записей о своей работе.",
                "Мне нравится читать.",
                "Мне нравится вести.",
                "Мне нравится работать на улице.",
                "Я хотел бы работать в офисе.",
                "Я хорош в математике.",
                "Мне нравится помогать людям.",
                "Мне нравится рисовать.",
                "Мне нравится произносить речи.",
                "Мне нравится готовить.",
                "Я хороший коммуникатор.",
                "Я хороший писатель.",
                "Мне нравится проектировать вещи.",
                "Я хороший слушатель.",
                "Мне нравится ремонтировать вещи."
            ],
            cbi: [
                "Как часто вы чувствуете усталость?",
                "Как часто вы физически истощены?",
                "Как часто вы эмоционально истощены?",
                "Как часто вы чувствуете себя измотанным?",
                "Вы чувствуете себя измотанным в конце рабочего/учебного дня?",
                "Вы истощены утром при мысли о еще одном дне на работе/учебе?",
                "Ваша работа/учеба эмоционально истощает вас?",
                "Вы чувствуете выгорание из-за работы/учебы?",
                "Вам трудно работать/общаться с клиентами/людьми/одноклассниками?",
                "Работа/общение с клиентами/людьми истощает вашу энергию?",
                "Вы чувствуете, что даете больше, чем получаете от работы с клиентами/людьми?",
                "Вы устали от работы/общения с клиентами/людьми?"
            ],
            values: [
                "Достижение: Способность достигать целей.",
                "Баланс: Время для семьи, работы, отдыха.",
                "Независимость: Контроль над судьбой.",
                "Влияние: Возможность влиять на других.",
                "Честность: Говорить правду.",
                "Власть: Контроль над другими.",
                "Уважение: Забота и доверие.",
                "Духовность: Вера в убеждения.",
                "Статус: Влияние и власть.",
                "Динамичность: Много событий.",
                "Гибкость: Нет строгого расписания.",
                "Высокий заработок: Много денег.",
                "Обучаемость: Интеллектуальный стимул.",
                "Удобное местоположение: Легкий доступ.",
                "Предсказуемость: Знаю, что будет.",
                "Спокойствие: Минимальные отвлечения.",
                "Расслабленность: Минимальное давление.",
                "Структурированность: Четкое расписание.",
                "Свобода времени: Сам планирую.",
                "Конкуренция: Соревнование с другими."
            ]
        };

        let currentSection = 'big_five';
        let currentQuestion = 0;
        let answers = { big_five: [], riasec: [], cbi: [], values: [] };
        let totalQuestions = 124;
        let progress = document.getElementById('progress');

        function showQuestion() {
            let qList = questions[currentSection];
            if (currentQuestion < qList.length) {
                let container = document.getElementById('question-container');
                container.innerHTML = `<p>${currentSection.toUpperCase()}: Вопрос ${currentQuestion + 1} из ${qList.length}</p><p>${qList[currentQuestion]}</p>`;
                if (currentSection === 'values') {
                    ['Всегда важно', 'Скорее важно', 'Не важно'].forEach((label, idx) => {
                        let btn = document.createElement('button');
                        btn.textContent = label;
                        btn.onclick = () => {
                            answers[currentSection].push(2 - idx);  // 2,1,0
                            currentQuestion++;
                            progress.value = Object.values(answers).flat().length;
                            showQuestion();
                        };
                        container.appendChild(btn);
                    });
                } else {
                    for (let i = 1; i <= 5; i++) {
                        let btn = document.createElement('button');
                        btn.textContent = i;
                        btn.onclick = () => {
                            answers[currentSection].push(i);
                            currentQuestion++;
                            progress.value = Object.values(answers).flat().length;
                            showQuestion();
                        };
                        container.appendChild(btn);
                    }
                }
            } else {
                if (currentSection === 'big_five') { currentSection = 'riasec'; currentQuestion = 0; }
                else if (currentSection === 'riasec') { currentSection = 'cbi'; currentQuestion = 0; }
                else if (currentSection === 'cbi') { currentSection = 'values'; currentQuestion = 0; }
                else { finishTest(); }
                showQuestion();
            }
        }

        function finishTest() {
            Telegram.WebApp.sendData(JSON.stringify({answers: answers}));
            Telegram.WebApp.close();
        }

        showQuestion();
    </script>
</body>
</html>